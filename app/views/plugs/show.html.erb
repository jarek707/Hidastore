<p id="notice"><%= notice %></p>

<div class='head'>Plugins:</div>
<ul class="show">
  <li class='lab'>Legend: </li>
  <li class='val'><%= @plug.legend %></li>

  <li class='lab'>Table name: </li>
  <li class='val'><%= @plug.tab_name %></li>

  <li class='lab'>Flags: </li>
  <li class='val'><%= @plug.flags %></li>

  <li class='lab'>Parent: </li>
  <li><%= Plug.find(@plug.parent_id).legend %></li>
</ul>

<div class='head'>Fields:</div>

<% @plug.fields.each do |field| %>
  <div id="show_wrap<%= field.id %>" field_id="<%= field.id %>" >
    <ul class='show text'>
      <li><button class="edit"></button></li>
      <li><button class="delete"></button></li>
      <li><button class="alledit"></button></li>
      <li class='lab'>Label: </li>
      <li class='val field_label'><%= field.label %></li>
      <li class='lab'>Dom Id: </li>
      <li class='val field_dom'><%= field.dom %></li>
      <li class='lab'>Flags: </li>
      <li class='val field_flags'><%= field.flags %></li>
      <li class='lab'>XML: </li>
      <li class='val field_xml'><%= field.xml %></li>
    </ul>
    <ul class='show form' >
      <button class='update' style="display:none" />
    </ul>
  </div>
<% end %>

<div class='head'>Add Field:</div>
<%= form_for([@plug, @plug.fields.build]) do |f| %>
  <ul class='show add_field'>
    <div class='fields_wrap'>
      <li class="lab"><%= f.label "Label:" %></li>
      <li class='val field_label'><%= f.text_field :label %></li>
      <li class="lab"><%= f.label "Dom Id:" %></li>
      <li class='val field_dom'><%= f.text_field :dom %></li>
      <li class="lab"><%= f.label "Flags:"%></li>
      <li class='val field_flags'><%= f.text_field :flags %></li>
      <li class="lab"><%= f.label "XML:" %></li>
      <li class="val field_xml"><%= f.text_field :xml %></li>
    </div>
    <li class="actions">
      <%= f.submit %>
    </li>
  </ul>
<% end %>

<br />
<%= link_to 'Edit', edit_plug_path(@plug) %> |
<%= link_to 'Back', plugs_path %>
